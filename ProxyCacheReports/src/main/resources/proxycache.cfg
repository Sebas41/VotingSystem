# proxycache.cfg - Configuración del ProxyCache de Reports + Observer
# Patrón máquina de café aplicado a sistema electoral

# =================== CONFIGURACIÓN DEL PROXY CACHE ===================
ProxyCacheAdapter.Endpoints=default -h localhost -p 9999
ProxyCacheServer.AdapterId=ProxyCacheAdapter

# =================== NUEVO: CONFIGURACIÓN DEL OBSERVER ===================
VoteObserverAdapter.Endpoints=default -h localhost
VoteNotifierServer.Proxy=VoteNotifier:default -h localhost -p 9002

# =================== CONFIGURACIÓN GENERAL ===================
Ice.ThreadPool.Server.Size=5
Ice.ThreadPool.Server.SizeMax=20
Ice.MessageSizeMax=65536

# =================== LOGGING (como máquina de café) ===================
Ice.Warn.Connections=1
Ice.Warn.Dispatch=1
Ice.Trace.Network=0
Ice.Trace.Protocol=0

# =================== TIMEOUTS ===================
Ice.Override.ConnectTimeout=5000
Ice.Override.Timeout=10000

# =================== CONFIGURACIÓN ESPECÍFICA DEL CACHE ===================
ProxyCache.TTL=300000
ProxyCache.ElectionTTL=120000
ProxyCache.CleanupInterval=300000
ProxyCache.MaxSize=1000

# =================== CONEXIÓN AL SERVIDOR PRINCIPAL ===================
ReportsServer.Proxy=ReportsManager:default -h localhost -p 9001

# =================== CONFIGURACIÓN DE FAILOVER ===================
ProxyCache.RetryAttempts=3
ProxyCache.RetryDelay=1000

# =================== CONFIGURACIÓN DE PRECARGA ===================
ProxyCache.PreloadOnStartup=true
ProxyCache.PreloadElections=1,2,3

# =================== NUEVO: CONFIGURACIÓN DE OBSERVER ===================
# Elección por defecto para observar
Observer.DefaultElectionId=1

# Intervalo para mostrar estadísticas de votos
Observer.StatsInterval=30000